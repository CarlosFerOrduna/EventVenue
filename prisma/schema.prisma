generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("MYSQL_URL")
}

model Hall {
  idHall        String          @id @default(uuid())
  name          String
  maxiQuantity  Int
  EventTypeHall EventTypeHall[]
}

model EventType {
  idEventType           String                  @id @default(uuid())
  name                  String
  EventTypeHall         EventTypeHall[]
  EventTypeEventService EventTypeEventService[]
}

model EventTypeHall {
  idEventTypeOnHall String    @id @default(uuid())
  hall              Hall      @relation(fields: [idHall], references: [idHall])
  idHall            String
  eventType         EventType @relation(fields: [idEventType], references: [idEventType])
  idEventType       String
}

model EventService {
  idEventService        String                  @id @default(uuid())
  name                  String
  EventTypeEventService EventTypeEventService[]
}

model EventTypeEventService {
  idEventTypeEventService String       @id @default(uuid())
  eventType               EventType    @relation(fields: [idEventType], references: [idEventType])
  idEventType             String
  eventService            EventService @relation(fields: [idEventService], references: [idEventService])
  idEventService          String
}

model User {
  idUser      String        @id @default(uuid())
  email       String
  firstName   String
  lastName    String
  role        Role          @default(USER)
  UserAddress UserAddress[]
}

enum Role {
  USER
  ADMIN
}

model Address {
  idAddress    String        @id @default(uuid())
  streetName   String?
  streetNumber String?
  zipCode      String?
  neighborhood String?
  floor        String?
  apartment    String?
  city         String?
  state        String?
  country      String?
  UserAddress  UserAddress[]
}

model UserAddress {
  idUserAddress String  @id @default(uuid())
  user          User    @relation(fields: [idUser], references: [idUser])
  idUser        String
  address       Address @relation(fields: [idAddress], references: [idAddress])
  idAddress     String
}
